<!-- HTML header for doxygen 1.8.9-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/x-icon"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>GuidedFilter: boxFilter_kernels.cl File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="css/font-awesome.min.css" rel="stylesheet">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-57722192-1', 'auto');
  ga('send', 'pageview');
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="width: 100%;">
 <tbody>
 <tr style="height: 72px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GuidedFilter
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
  <td><a id="repo" href="https://github.com/pAIgn10/GuidedFilter"><i class="fa fa-github"></i><span id="repo-text">&nbsp;Hosted by GitHub</span></a></td>
  <td id="projectlogo"><a href="http://paign10.me"><img alt="Logo" src="logo.png"/></a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d3fd84b2e4114076d2551689812cf799.html">kernels</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">boxFilter_kernels.cl File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Kernels for performing <code>Box Filtering</code>.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a64960d9f351b4c5e538a83febd80d68d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64960d9f351b4c5e538a83febd80d68d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_BF_STORING_WORK_ITEMS</b>&#160;&#160;&#160;16 * 16 / 4</td></tr>
<tr class="separator:a64960d9f351b4c5e538a83febd80d68d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1de83c58e5c5541115aa972d854df471"><td class="memItemLeft" align="right" valign="top">kernel void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boxFilter__kernels_8cl.html#a1de83c58e5c5541115aa972d854df471">boxFilterSAT</a> (global float *sat, global float *out, int radius)</td></tr>
<tr class="memdesc:a1de83c58e5c5541115aa972d854df471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs box (mean) filtering.  <a href="#a1de83c58e5c5541115aa972d854df471">More...</a><br /></td></tr>
<tr class="separator:a1de83c58e5c5541115aa972d854df471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c0d860e46834bffe41bffa623cf2b8f"><td class="memItemLeft" align="right" valign="top">kernel void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boxFilter__kernels_8cl.html#a7c0d860e46834bffe41bffa623cf2b8f">boxFilterSAT_Tr</a> (global float *sat, global float4 *out, local float *data, int radius, float scaling)</td></tr>
<tr class="memdesc:a7c0d860e46834bffe41bffa623cf2b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs box (mean) filtering.  <a href="#a7c0d860e46834bffe41bffa623cf2b8f">More...</a><br /></td></tr>
<tr class="separator:a7c0d860e46834bffe41bffa623cf2b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7354d01e2c3d646396d634990a8f88b"><td class="memItemLeft" align="right" valign="top">kernel void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boxFilter__kernels_8cl.html#ab7354d01e2c3d646396d634990a8f88b">boxFilter</a> (global float *in, global float *out, local float *data, int radius)</td></tr>
<tr class="memdesc:ab7354d01e2c3d646396d634990a8f88b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs box (mean) filtering.  <a href="#ab7354d01e2c3d646396d634990a8f88b">More...</a><br /></td></tr>
<tr class="separator:ab7354d01e2c3d646396d634990a8f88b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Kernels for performing <code>Box Filtering</code>. </p>
<dl class="section note"><dt>Note</dt><dd>The kernels present in this file are developed with the goal of maximum performance under the project's main application which is the processing of 640x480 images on the Guided Image Filtering pipeline. The algorithms themselves and their performance might not generalize well under different environments. When possible, comments will be made in the documentation of each kernel to try to highlight the specific issues. </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Nick Lamprianidis </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2015 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>The MIT License (MIT) </dd></dl>
<dl class="section user"><dt></dt><dd>Copyright (c) 2015 Nick Lamprianidis </dd></dl>
<dl class="section user"><dt></dt><dd>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: </dd></dl>
<dl class="section user"><dt></dt><dd>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. </dd></dl>
<dl class="section user"><dt></dt><dd>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab7354d01e2c3d646396d634990a8f88b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kernel void boxFilter </td>
          <td>(</td>
          <td class="paramtype">global float *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">global float *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">local float *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs box (mean) filtering. </p>
<p>The work complexity is <code>O(n)</code> in the window size. </p><dl class="section note"><dt>Note</dt><dd>Both dimensions of the image have to be <b>multiples of the work-group dimensions</b>, respectively. This specification could be overcome by extending the buffers [clEnqueue(Read/Write)BufferRect] and including bounds checking within the kernel. These cases won't be handled. </dd>
<dd>
The <b>x</b> dimension of the global workspace, \( gXdim \), should be equal to the number of columns, <code>N</code>, in the image. That is, \( \ gXdim = N \). The <b>y</b> dimension of the global workspace, \( gYdim \), should be equal to the number of rows, <code>M</code>, in the image. That is, \( \ gYdim = M \). The local workspace should be <code>16x16</code>. That is, \( \ lXdim = lYdim = 16 \). </dd>
<dd>
Vector reads are avoided since the required alignments complicate memory address calculations.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>input array of <code>float</code> elements. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>output (blurred) array of <code>float</code> elements. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>local buffer. Its size should be <code>1 float</code> element for each work-item in a work-group and each halo pixel. That is, \( (lXdim+2*radius)*(lYdim+2*radius)*sizeof\ (float) \). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">radius</td><td>radius of the square filter window. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1de83c58e5c5541115aa972d854df471"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kernel void boxFilterSAT </td>
          <td>(</td>
          <td class="paramtype">global float *&#160;</td>
          <td class="paramname"><em>sat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">global float *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs box (mean) filtering. </p>
<p>Accepts a SAT array, \( sat_{M \times N} \), performs the filtering, and outputs the result, \( out_{M \times N} \). The work complexity is <code>O(1)</code> in the window size. </p><dl class="section note"><dt>Note</dt><dd>The <b>x</b> dimension of the global workspace, \( gXdim \), should be equal to the number of columns, <code>N</code>, in the image. That is, \( \ gXdim = N \). The <b>y</b> dimension of the global workspace, \( gYdim \), should be equal to the number of rows, <code>M</code>, in the image. That is, \( \ gYdim = M \). The local workspace is irrelevant.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sat</td><td>input array of <code>float</code> elements. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>output (blurred) array of <code>float</code> elements. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">radius</td><td>radius of the square filter window. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7c0d860e46834bffe41bffa623cf2b8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kernel void boxFilterSAT_Tr </td>
          <td>(</td>
          <td class="paramtype">global float *&#160;</td>
          <td class="paramname"><em>sat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">global float4 *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">local float *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>scaling</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs box (mean) filtering. </p>
<p>Accepts a transposed SAT array, \( sat_{N \times M} \), performs the filtering, and outputs the result, \( out_{M \times N} \). The work complexity is <code>O(1)</code> in the window size. </p><dl class="section note"><dt>Note</dt><dd>Both dimensions of the image have to be <b>multiples of the work-group dimensions</b>, respectively. This specification could be overcome by extending the buffers [clEnqueue(Read/Write)BufferRect] and including bounds checking within the kernel. These cases won't be handled. </dd>
<dd>
The <b>x</b> dimension of the global workspace, \( gXdim \), should be equal to the number of columns, <code>M</code>, in the SAT array. That is, \( \ gXdim = M \). The <b>y</b> dimension of the global workspace, \( gYdim \), should be equal to the number of rows, <code>N</code>, in the SAT array. That is, \( \ gYdim = N \). The local workspace should be <code>16x16</code>. That is, \( \ lXdim = lYdim = 16 \). </dd>
<dd>
Each work-item filters one pixel, and then the first 64 work-items in each work-group store a transposed 4 pixel block in global memory.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sat</td><td>input array of <code>float</code> elements. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>output (blurred) array of <code>float</code> elements. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>local buffer. Its size should be <code>1 float</code> element for each work-item in a work-group. That is, \( lXdim*lYdim*sizeof\ (float) \). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">radius</td><td>radius of the square filter window. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scaling</td><td>factor by which to scale the array elements after processing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 11 2015 01:41:48 for GuidedFilter by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
